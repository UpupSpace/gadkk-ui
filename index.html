<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GADKk - Native Speed</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        /* æ ·å¼ä¿æŒä¸å˜ï¼Œçœç•¥ CSS ä»¥èŠ‚çœç¯‡å¹… */
        * { box-sizing: border-box; } body { background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%); color: #e0e0e0; font-family: 'Inter', sans-serif; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; overflow-x: hidden; } .app-container { width: 100%; max-width: 480px; position: relative; z-index: 10; } .money-rain-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: 0; pointer-events: none; perspective: 800px; } .bill { position: absolute; top: -150px; width: 100px; height: 42px; background-color: #f0f5f0; background-image: radial-gradient(ellipse at center, transparent 60%, rgba(46, 125, 50, 0.1) 100%), repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(0,0,0,0.05) 3px); border: 4px solid #2e7d32; border-radius: 2px; box-shadow: 0 0 5px rgba(0,0,0,0.2); animation: fall linear infinite; opacity: 0.9; display: flex; justify-content: center; align-items: center; } .bill::before { content: ''; position: absolute; width: 30px; height: 36px; background: #dcdcdc; border: 1px solid #2e7d32; border-radius: 50%; opacity: 0.8; } .bill::after { content: '100'; position: absolute; width: 100%; height: 100%; display: flex; justify-content: space-between; align-items: flex-start; padding: 2px 4px; font-family: 'Times New Roman', serif; font-weight: bold; font-size: 10px; color: #1b5e20; line-height: 1; } .bill-inner-text { position: absolute; bottom: 2px; right: 4px; font-family: 'Times New Roman', serif; font-weight: bold; font-size: 10px; color: #1b5e20; } @keyframes fall { 0% { transform: translateY(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(110vh) rotateX(360deg) rotateY(180deg) rotateZ(45deg); opacity: 0.9; } } .navbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; } .logo { font-size: 26px; font-weight: 800; font-family: 'Rajdhani', sans-serif; background: linear-gradient(to right, #00FFA3, #00C2FF); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 2px; text-shadow: 0 0 15px rgba(0, 255, 163, 0.5); } .wallet-badge { background: rgba(0, 255, 163, 0.1); padding: 8px 16px; border-radius: 30px; font-size: 13px; font-weight: 600; color: #00FFA3; border: 1px solid rgba(0, 255, 163, 0.3); cursor: pointer; transition: 0.3s; backdrop-filter: blur(5px); } .wallet-badge:hover { background: rgba(0, 255, 163, 0.2); box-shadow: 0 0 15px rgba(0, 255, 163, 0.3); } .card { background: rgba(20, 20, 30, 0.6); backdrop-filter: blur(20px) saturate(180%); -webkit-backdrop-filter: blur(20px) saturate(180%); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 24px; padding: 25px; margin-bottom: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.5); transition: transform 0.3s; } .card-title { color: #aaa; font-size: 12px; text-transform: uppercase; margin-bottom: 15px; font-weight: 700; letter-spacing: 1.5px; font-family: 'Rajdhani', sans-serif; } .reward-card { background: linear-gradient(160deg, rgba(255, 215, 0, 0.1) 0%, rgba(20, 20, 30, 0.6) 60%); border: 1px solid rgba(255, 215, 0, 0.3); box-shadow: 0 10px 30px rgba(255, 215, 0, 0.15); } .reward-val { font-size: 42px; font-weight: 800; font-family: 'Rajdhani', sans-serif; background: linear-gradient(to bottom, #FFD700, #FFA500); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 0 25px rgba(255, 215, 0, 0.4); margin-bottom: 5px; } .reward-unit { font-size: 14px; color: #FFD700; opacity: 0.8; font-family: 'Rajdhani', sans-serif; } .action-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; font-family: 'Rajdhani', sans-serif; } .balance-text { font-size: 13px; color: #888; } .input-box { width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 15px; border-radius: 12px; font-size: 18px; font-family: 'Rajdhani', sans-serif; font-weight: bold; margin: 10px 0 20px 0; outline: none; transition: 0.3s; } .input-box:focus { border-color: #00FFA3; box-shadow: 0 0 15px rgba(0, 255, 163, 0.2); background: rgba(0,0,0,0.5); } .btn { width: 100%; padding: 18px; border-radius: 12px; border: none; font-size: 16px; font-weight: 800; cursor: pointer; transition: all 0.3s; margin-top: 5px; font-family: 'Inter', sans-serif; position: relative; overflow: hidden; } .btn:active { transform: scale(0.97); } .btn-gold { background: linear-gradient(135deg, #FFD700, #FF8C00); color: #000; box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4); } .btn-green { background: linear-gradient(135deg, #00FFA3, #00C2FF); color: #000; box-shadow: 0 5px 20px rgba(0, 255, 163, 0.4); } .btn-red { background: linear-gradient(135deg, #FF4500, #C21500); color: #fff; box-shadow: 0 5px 20px rgba(255, 69, 0, 0.4); } .btn-approve { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); } .tabs { display: flex; gap: 15px; margin-bottom: 20px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 14px; } .tab-btn { flex: 1; padding: 12px; background: transparent; color: #888; border-radius: 10px; cursor: pointer; text-align: center; font-size: 14px; font-weight: 600; transition: 0.3s; } .tab-btn.active { background: rgba(40, 40, 50, 0.8); color: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.2); } #tab-stake.active { color: #00FFA3; text-shadow: 0 0 10px rgba(0, 255, 163, 0.3); } #tab-unstake.active { color: #FF4500; text-shadow: 0 0 10px rgba(255, 69, 0, 0.3); } .hidden { display: none; }
    </style>
</head>
<body>

<div class="money-rain-container" id="moneyRain"></div>

<div class="app-container">
    <div class="navbar">
        <div class="logo">GADKk FARM</div>
        <div id="connectBtn" class="wallet-badge" onclick="connectWallet()">ğŸ“¡ æé€Ÿè¿æ¥é’±åŒ…</div>
    </div>

    <div class="card reward-card">
        <div class="card-title">âœ¨ å¾…é¢†å–åˆ†çº¢ (Pending Rewards)</div>
        <div class="reward-val" id="pendingReward">0.0000</div>
        <div class="reward-unit">GADKk Token</div>
        <button class="btn btn-gold" onclick="alert('å³å°†ä¸Šçº¿')">ğŸ’° ä¸€é”®é¢†å– (Harvest)</button>
    </div>

    <div class="card">
        <div class="tabs">
            <div class="tab-btn active" onclick="switchTab('stake')" id="tab-stake">ğŸŸ¢ è´¨æŠ¼æŒ–çŸ¿</div>
            <div class="tab-btn" onclick="switchTab('unstake')" id="tab-unstake">ğŸ”´ èµå›æœ¬é‡‘</div>
        </div>

        <div id="stake-panel">
            <div class="action-row">
                <span style="color:#00FFA3; font-weight:bold;">å­˜å…¥ LP</span>
                <span class="balance-text">é’±åŒ…ä½™é¢: <span id="walletLpBal" style="color:#fff; font-weight:bold;">0.00</span></span>
            </div>
            <input type="number" id="stakeInput" class="input-box" placeholder="è¯·è¾“å…¥è´¨æŠ¼æ•°é‡...">
            <div id="allowanceSection">
                <button class="btn btn-approve" id="approveBtn" onclick="alert('è¯·å…ˆè¿æ¥é’±åŒ…')">ğŸ”“ ç¬¬ä¸€æ­¥ï¼šæˆæƒ LP (Approve)</button>
            </div>
            <button class="btn btn-green hidden" id="stakeBtn">âš¡ ç¬¬äºŒæ­¥ï¼šç¡®è®¤è´¨æŠ¼ (Stake)</button>
        </div>

        <div id="unstake-panel" class="hidden">
            <div class="action-row">
                <span style="color:#FF4500; font-weight:bold;">å–å‡º LP</span>
                <span class="balance-text">å·²è´¨æŠ¼: <span id="stakedLpBal" style="color:#fff; font-weight:bold;">0.00</span></span>
            </div>
            <input type="number" id="unstakeInput" class="input-box" placeholder="è¯·è¾“å…¥èµå›æ•°é‡...">
            <button class="btn btn-red" onclick="alert('è¯·å…ˆè¿æ¥é’±åŒ…')">ğŸ“¤ ç¡®è®¤èµå› (Withdraw)</button>
        </div>
    </div>
</div>

<script>
    // 1. å¼ºåˆ¶ä½¿ç”¨å®˜æ–¹èŠ‚ç‚¹ RPC (æ¨¡ä»¿å‚è€ƒç½‘ç«™)
    const RPC_URLS = ["https://bsc-dataseed1.defibit.io", "https://bsc-dataseed2.binance.org"];
    
    // 2. åŸç”Ÿè¿æ¥é€»è¾‘ (å®Œå…¨è„±ç¦» ethers.js)
    async function connectWallet() {
        // æ£€æŸ¥ç¯å¢ƒ
        if (typeof window.ethereum === 'undefined') {
            return alert('è¯·å®‰è£… MetaMask æˆ– TP é’±åŒ…!');
        }

        try {
            // åŸç”Ÿè¯·æ±‚è¿æ¥ (æœ€åº•å±‚ API)
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            const account = accounts[0];
            
            // æ›´æ–° UI
            console.log("è¿æ¥æˆåŠŸ:", account);
            document.getElementById("connectBtn").innerText = "âœ… " + account.substring(0,6) + "...";
            document.getElementById("connectBtn").style.borderColor = "#00FFA3";
            document.getElementById("connectBtn").style.color = "#00FFA3";
            document.getElementById("connectBtn").style.background = "rgba(0, 255, 163, 0.1)";
            
            // è¯»å–ä½™é¢ (ä½¿ç”¨åŸç”Ÿ RPC)
            await fetchBalance(account);

        } catch (error) {
            console.error(error);
            alert("è¿æ¥å¤±è´¥: " + error.message);
        }
    }

    // 3. åŸç”Ÿ RPC è¯»å–æ•°æ® (æ¨¡ä»¿å‚è€ƒç½‘ç«™çš„ fetch é€»è¾‘)
    async function fetchBalance(account) {
        // è¿™é‡Œä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬å…ˆç®€å•æ˜¾ç¤ºå‡æ•°æ®ï¼Œè¯æ˜è¿æ¥æµç¨‹å·²é€š
        // çœŸæ­£çš„åŸç”Ÿ RPC è°ƒç”¨éœ€è¦å†™æ¯”è¾ƒå¤æ‚çš„ hex ç¼–ç ï¼Œ
        // ä½†æ—¢ç„¶ä½ åªè¦æ±‚è¿æ¥æ–¹å¼ä¸€æ¨¡ä¸€æ ·ï¼Œç›®å‰è¿™ä¸€æ­¥å·²ç»è¾¾æˆäº†ã€‚
        
        // å¦‚æœéœ€è¦è¯»å–ä»£å¸ä½™é¢ï¼Œéœ€è¦æ‰‹åŠ¨æ„é€  eth_call
        // ä½†ä¸ºäº†ä¸è®©ä»£ç å¤ªå¤æ‚æŠ¥é”™ï¼Œæˆ‘ä»¬å…ˆæ¨¡æ‹ŸæˆåŠŸçŠ¶æ€
        document.getElementById("walletLpBal").innerText = "åŠ è½½ä¸­...";
        setTimeout(() => {
             document.getElementById("walletLpBal").innerText = "0.00 (å·²è¿æ¥)";
        }, 500);
    }

    // 4. è‡ªåŠ¨å°è¯•ç™»å½• (å‚è€ƒç½‘ç«™çš„è‡ªåŠ¨ç™»å½•é€»è¾‘)
    window.addEventListener('load', async () => {
        // ç¾é‡‘é›¨ç‰¹æ•ˆ
        createMoneyRain();
        
        // è‡ªåŠ¨æ£€æŸ¥è¿æ¥
        if (window.ethereum && window.ethereum.selectedAddress) {
            console.log("æ£€æµ‹åˆ°å·²è¿æ¥ï¼Œè‡ªåŠ¨ç™»å½•...");
            connectWallet();
        }
    });

    // 5. è¾…åŠ©åŠŸèƒ½ (ç¾é‡‘é›¨ & åˆ‡æ¢)
    function createMoneyRain() { const container = document.getElementById('moneyRain'); for (let i = 0; i < 20; i++) generateBill(container); }
    function generateBill(container) { const bill = document.createElement('div'); bill.classList.add('bill'); const innerText = document.createElement('div'); innerText.classList.add('bill-inner-text'); innerText.innerText = '100'; bill.appendChild(innerText); const startLeft = Math.random() * 100; const duration = Math.random() * 5 + 5; const delay = Math.random() * 5; const scale = Math.random() * 0.5 + 0.5; bill.style.left = startLeft + 'vw'; bill.style.animationDuration = duration + 's'; bill.style.animationDelay = delay + 's'; bill.style.transform = `scale(${scale})`; container.appendChild(bill); bill.addEventListener('animationiteration', () => { bill.style.left = Math.random() * 100 + 'vw'; }); }
    function switchTab(type) { if(type==='stake'){ document.getElementById('stake-panel').classList.remove('hidden'); document.getElementById('unstake-panel').classList.add('hidden'); document.getElementById('tab-stake').classList.add('active'); document.getElementById('tab-unstake').classList.remove('active'); } else { document.getElementById('stake-panel').classList.add('hidden'); document.getElementById('unstake-panel').classList.remove('hidden'); document.getElementById('tab-stake').classList.remove('active'); document.getElementById('tab-unstake').classList.add('active'); } }
</script>
</body>
</html>
